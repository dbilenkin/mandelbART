(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(t,e,o){t.exports=o(388)},177:function(t,e,o){},179:function(t,e,o){},388:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),s=o(36),r=o.n(s),i=(o(177),o(162)),c=o(32),l=o(37),h=o(39),m=o(38),p=o(40),u=(o(179),o(394)),d=o(392),g=function(t){function e(){var t,o;Object(c.a)(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(o=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(n)))).resetCanvas=function(){o.props.reset()},o.changeZoom=function(t){var e=t.clientX,a=t.clientY;o.props.changeZoomConst(),o.props.state.mandelbrot.zoom({clientX:e,clientY:a})},o}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.canvas=this.refs.canvas,this.props.state.mandelbrot.start(this.canvas,this.props.state)}},{key:"componentDidUpdate",value:function(){this.props.state.mandelbrot.update(this.props.state)}},{key:"render",value:function(){return n.a.createElement(u.a,{className:"grid-card"},n.a.createElement("div",{className:"Grid"},n.a.createElement("canvas",{onClick:this.changeZoom,ref:"canvas",width:"600",height:"400"})),n.a.createElement("div",{className:"interaction"},n.a.createElement("div",{className:"buttons"},n.a.createElement(d.a,{basic:!0,color:"purple",onClick:this.resetCanvas},"Reset"),n.a.createElement(d.a,{basic:!0,color:"blue",onClick:this.props.state.mandelbrot.save},"Save")),n.a.createElement("div",null,"Zoom: ",this.props.state.zoomConst),n.a.createElement("div",{className:"sliders"},n.a.createElement("input",{type:"range",id:"iterations",value:this.props.state.iterations,name:"iterations",min:"100",max:"10000",onChange:this.props.changeIterations}),n.a.createElement("label",{htmlFor:"iterations"},"Iterations: ",this.props.state.iterations)),n.a.createElement("div",{className:"sliders"},n.a.createElement("input",{type:"range",id:"zoomFactor",value:this.props.state.zoomFactor,name:"zoomFactor",min:"2",max:"100",onChange:this.props.changeZoomFactor}),n.a.createElement("label",{htmlFor:"zoomFactor"},"Zoom Factor: ",this.props.state.zoomFactor))))}}]),e}(a.Component),f=o(6),v=o.n(f),C=o(158),b=function(t){function e(){var t,o;Object(c.a)(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(o=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(n)))).state={displayColorPicker:!1},o.handleClick=function(){o.setState({displayColorPicker:!o.state.displayColorPicker})},o.handleClose=function(){o.setState({displayColorPicker:!1})},o.handleChange=function(t){o.props.changeColor(o.props.index,t)},o}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=v()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.props.color.r,", ").concat(this.props.color.g,", ").concat(this.props.color.b,", ").concat(this.props.color.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return n.a.createElement("div",null,n.a.createElement("div",{style:t.swatch,onClick:this.handleClick},n.a.createElement("div",{style:t.color})),this.state.displayColorPicker?n.a.createElement("div",{style:t.popover},n.a.createElement("div",{style:t.cover,onClick:this.handleClose}),n.a.createElement(C.SketchPicker,{color:this.props.color,onChange:this.handleChange})):null)}}]),e}(n.a.Component),w=(o(364),o(393));var x={original:{rules:"LR",speed:7,size:6},symmetric:{rules:"LLRR",speed:9,size:4},weirdSquare:{rules:"LRRRRRLLR",speed:10,size:2},weirdHighway:{rules:"LLRRRLRLRLLR",speed:8,size:3},filledTriangle:{rules:"RRLLLRLLLRRR",speed:9,size:2}};var z=o(159),S=o.n(z),y=o(160),E=o.n(y),R=function t(){var e=this;Object(c.a)(this,t),this.initGrid=function(){e.grid=[];for(var t=0;t<e.width;t++)e.grid[t]=[]},this.squareC=function(t){return{a:t.a*t.a-t.b*t.b,b:2*t.a*t.b}},this.hexToRgb=function(t){var e=parseInt(t.slice(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}},this.makeColorsFromPalette=function(){e.colors=[];for(var t=e.state.palette.map(function(t){return e.hexToRgb(t)}),o=0;o<e.state.palette.length;o++)for(var a=t[o],n=t[(o+1)%e.state.palette.length],s=[n.r-a.r,n.g-a.g,n.b-a.b],r=0;r<e.state.colorSmooth;r++){var i=a.r+=s[0]/e.state.colorSmooth,c=a.g+=s[1]/e.state.colorSmooth,l=a.b+=s[2]/e.state.colorSmooth;e.colors.push("rgb(".concat(i,",").concat(c,",").concat(l,")"))}},this.mandelbrot=function(t){for(var o={a:0,b:0},a=0;a<e.state.iterations;a++){var n=e.squareC(o),s=n.a,r=n.b;if(o.a=s+t.a,o.b=r+t.b,s>2||r>2)return a}return-1},this.checkPoint=function(t){var o=e.state.topLeft.a+t.x/e.xZoomConst,a=e.state.topLeft.b+t.y/e.yZoomConst,n=e.mandelbrot({a:o,b:a});e.grid[t.x][t.y]=n,e.ctx.fillStyle=-1===n?"#222222":e.colors[n%e.colors.length],e.ctx.fillRect(t.x,t.y,1,1)},this.recolor=function(t,o){e.state.palette=t,o&&(e.state.colorSmooth=o),e.makeColorsFromPalette();for(var a=0;a<e.width;a++)for(var n=0;n<e.height;n++){var s=e.grid[a][n];e.ctx.fillStyle=-1===s?"#222222":e.colors[s%e.colors.length],e.ctx.fillRect(a,n,1,1)}},this.calcConsts=function(t,o){e.xZoomConst=e.width*e.state.zoomConst/3,e.yZoomConst=e.state.zoomConst/(3/e.width);var a=e.state.topLeft.a+t/e.xZoomConst*e.state.zoomFactor,n=e.state.topLeft.b+o/e.yZoomConst*e.state.zoomFactor;console.log("centerA: ".concat(a,", centerB: ").concat(n)),e.state.topLeft.a=a-e.width/2/e.xZoomConst,e.state.topLeft.b=n-e.height/2/e.yZoomConst,console.log("Top Left: ".concat(e.state.topLeft.a,", ").concat(e.state.topLeft.b))},this.goThroughRow=function(t){for(var o=0;o<e.height;o++)e.checkPoint({x:t,y:o})},this.goThroughPoints=function(t){for(var o=function(o){if(t)setTimeout(function(){return e.goThroughRow(o)},0);else for(var a=0;a<e.height;a++)e.checkPoint({x:o,y:a})},a=0;a<e.width;a++)o(a)},this.zoom=function(t){var o=t.clientX,a=t.clientY;e.state.zoomConst*=e.state.zoomFactor,e.ctx.clearRect(0,0,e.width,e.height);var n=o-e.canvas.getClientRects()[0].left,s=a-e.canvas.getClientRects()[0].top;e.calcConsts(n,s),e.goThroughPoints(!0)},this.reset=function(){e.ctx.clearRect(0,0,e.width,e.height),e.start(e.canvas,e.state)},this.update=function(t){e.state=t},this.resize=function(t,o){e.canvas.width=t,e.canvas.height=o,e.width=t,e.height=o,e.xZoomConst=t*e.state.zoomConst/3,e.yZoomConst=e.state.zoomConst/(3/t),e.initGrid(),e.goThroughPoints(!0)},this.save=function(){var t=e.canvas,o=e.ctx;e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.width=6e3,e.height=4e3,e.canvas.width=e.width,e.canvas.height=e.height,e.xZoomConst=e.width*e.state.zoomConst/3,e.yZoomConst=e.state.zoomConst/(3/e.width),e.goThroughPoints(),e.canvas.toBlob(function(t){E()(t,"mandelbrot-".concat(this.state.topLeft.a,"-").concat(this.state.topLeft.b,"-").concat(this.state.zoomConst,".png"))}),e.canvas=t,e.ctx=o},this.start=function(t,o){e.canvas=t,e.ctx=e.canvas.getContext("2d"),e.state=o,e.width=t.width,e.height=t.height,e.initGrid(),e.makeColorsFromPalette(),e.xZoomConst=e.width*e.state.zoomConst/3,e.yZoomConst=e.state.zoomConst/(3/e.width),e.goThroughPoints(!0)}},k=function(t){function e(){var t,o;Object(c.a)(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(o=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(n)))).state={mandelbrot:new R,topLeft:{a:-2,b:-1},palette:["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"],zoomConst:1,zoomFactor:10,colorSmooth:500,iterations:1e4,width:600},o.NUM_RULES=Math.floor(10*Math.random())+1,o.changeSteps=function(t){o.setState({steps:t})},o.changeColor=function(t,e){var a=Object(i.a)(o.state.palette);a[t]=e.hex,o.setState({palette:a}),o.state.mandelbrot.recolor(a)},o.changeSpeed=function(t){o.setState({speed:t.target.value})},o.changeSize=function(t){o.setState({size:t.target.value})},o.changeZoomConst=function(){o.setState({zoomConst:o.state.zoomConst*o.state.zoomFactor})},o.changeZoomFactor=function(t){o.setState({zoomFactor:t.target.value})},o.changeIterations=function(t){o.setState({iterations:t.target.value})},o.changeSmooth=function(t){o.setState({colorSmooth:t.target.value}),o.state.mandelbrot.recolor(o.state.palette,t.target.value)},o.toggleRunning=function(){o.setState({running:!o.state.running})},o.handleItemClick=function(t,e){var a=e.name;o.setState(function(t){var e={running:!0};return e.rules=x[t].rules.split("").map(function(t,e){return{color:0===e?"#ffffff":"#"+(16777215*Math.random()<<0).toString(16),dir:"L"===t?"left":"right"}}),e.speed=x[t].speed,e.size=x[t].size,e}(a))},o.changePalette=function(){var t=["#faa916","#bd312d","#31393c","#2176ff","#06a77d"];o.setState({palette:t}),o.state.mandelbrot.recolor(t)},o.resize=function(){var t=600===o.state.width?1200:600;o.setState({width:t}),o.state.mandelbrot.resize(t,2*t/3)},o.reset=function(){o.setState({topLeft:{a:-2,b:-1},zoomConst:1}),o.state.mandelbrot.reset()},o.hexToRGB=function(t){return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},o}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=S.a.parse(window.location.search),e=t.zoom,o=t.left,a=t.top;e&&o&&a&&this.setState({zoomConst:e,topLeft:{a:o,b:a}})}},{key:"render",value:function(){var t=this;return this.state.mandelbrot?n.a.createElement("div",{className:"app-".concat(this.state.width)},n.a.createElement(w.a,{text:!0},n.a.createElement(w.a.Item,{header:!0},"MandelbART"),n.a.createElement(w.a.Item,{name:"cool",onClick:this.handleItemClick}),n.a.createElement(w.a.Item,{name:"themes",onClick:this.handleItemClick}),n.a.createElement(w.a.Item,null,this.state.palette.map(function(e,o){return n.a.createElement(b,{index:o,changeColor:t.changeColor,color:t.hexToRGB(e)})})),n.a.createElement(w.a.Item,null,n.a.createElement("div",{className:"sliders"},n.a.createElement("input",{type:"range",id:"colorSmooth",value:this.state.colorSmooth,name:"colorSmooth",min:"1",max:"1000",onChange:this.changeSmooth}),n.a.createElement("label",{htmlFor:"iterations"},"Color Smooth: ",this.state.colorSmooth))),n.a.createElement(w.a.Item,null,n.a.createElement(d.a,{basic:!0,color:"red",onClick:this.changePalette},"Palette")),n.a.createElement(w.a.Item,null,n.a.createElement(d.a,{basic:!0,color:"orange",onClick:this.resize},600===this.state.width?"Larger":"Smaller"))),n.a.createElement(g,{state:this.state,changeSize:this.changeSize,changeSpeed:this.changeSpeed,changeZoomConst:this.changeZoomConst,changeZoomFactor:this.changeZoomFactor,changeIterations:this.changeIterations,changePalette:this.changePalette,resize:this.resize,reset:this.reset,toggleRunning:this.toggleRunning})):n.a.createElement("div",null,"hey")}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[172,2,1]]]);
//# sourceMappingURL=main.49a4009c.chunk.js.map